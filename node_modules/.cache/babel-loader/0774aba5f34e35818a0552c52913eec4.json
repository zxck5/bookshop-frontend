{"ast":null,"code":"import _defineProperty from\"/Users/jiwon/Desktop/spring-boot/BookShop/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jiwon/Desktop/spring-boot/BookShop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jiwon/Desktop/spring-boot/BookShop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{Link,useLocation}from\"react-router-dom\";import{Form,Row,Col}from\"react-bootstrap\";import Table from'react-bootstrap/Table';import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orderList=_useState2[0],setOrderList=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),memberList=_useState6[0],setMemberList=_useState6[1];useEffect(function(){axios.get(\"/members\").then(function(res){return setMemberList(res.data);});},[]);var setInput=function setInput(event){var name=event.target.name;var value=event.target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value)));};var submitForm=function submitForm(e){e.preventDefault();var formData=new FormData();Object.keys(state).map(function(key){formData.append(key,state[key]);});axios.post(\"/orders\",formData).then(function(res){setOrderList(res.data);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Form,{onSubmit:submitForm,children:[\"ORDER LIST\",/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",name:\"memberEmail\",onChange:setInput,children:[/*#__PURE__*/_jsx(\"option\",{children:\"select member\"}),memberList.map(function(m,index){return/*#__PURE__*/_jsx(\"option\",{value:m.email,children:m.email},index);})]}),/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",name:\"orderStatus\",onChange:setInput,children:[/*#__PURE__*/_jsx(\"option\",{children:\"order status\"}),/*#__PURE__*/_jsx(\"option\",{children:\"ORDER\"}),/*#__PURE__*/_jsx(\"option\",{children:\"CANCEL\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"submit\"})]}),/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Order Date\"}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orderList.map(function(o){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:o.id}),/*#__PURE__*/_jsx(\"td\",{children:o.memberEmail}),/*#__PURE__*/_jsx(\"td\",{children:o.status}),/*#__PURE__*/_jsx(\"td\",{children:o.orderDate}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/orders/items\",state:{orderItems:o.orderItemInfos},children:/*#__PURE__*/_jsx(Button,{children:\"my items\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{children:\"Cancel\"})})]});})})]})]});}","map":{"version":3,"names":["useEffect","useState","axios","Link","useLocation","Form","Row","Col","Table","Button","props","orderList","setOrderList","state","setState","memberList","setMemberList","get","then","res","data","setInput","event","name","target","value","submitForm","e","preventDefault","formData","FormData","Object","keys","map","key","append","post","m","index","email","o","id","memberEmail","status","orderDate","orderItems","orderItemInfos"],"sources":["/Users/jiwon/Desktop/spring-boot/BookShop/frontend/src/orders/orderList.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {Link, useLocation} from \"react-router-dom\";\nimport {Form, Row,Col} from \"react-bootstrap\";\nimport Table from 'react-bootstrap/Table';\nimport Button from \"react-bootstrap/Button\";\nexport default function (props){\n    const [orderList, setOrderList] = useState([]);\n    const [state, setState] = useState({});\n    const [memberList,setMemberList] = useState([]);\n\n\n    useEffect(()=>{\n        axios.get(\"/members\")\n            .then(res => setMemberList(res.data))\n\n\n    },[])\n\n    const setInput = (event) => {\n\n        let name = event.target.name;\n        let value = event.target.value;\n        setState({...state, [name] : value })\n    }\n\n\n    const submitForm = (e) => {\n        e.preventDefault();\n        let formData = new FormData();\n        Object.keys(state).map(key => {\n            formData.append(key, state[key]);\n        })\n\n        axios.post(\"/orders\",formData)\n            .then(res => {\n\n                setOrderList(res.data);\n            })\n    }\n\n    return (\n        <div>\n            <Form onSubmit={submitForm}>ORDER LIST\n                <Form.Select size=\"sm\" name={\"memberEmail\"} onChange={setInput}>\n                    <option>select member</option>\n                    {\n                        memberList.map((m,index)=> (\n                            <option key = {index} value={m.email}>\n                                {m.email}\n                            </option>\n                        ))\n                    }\n                </Form.Select>\n\n                <Form.Select size=\"sm\" name={\"orderStatus\"} onChange={setInput}>\n                    <option>order status</option>\n                    <option>ORDER</option>\n                    <option>CANCEL</option>\n                </Form.Select>\n                <input type=\"submit\" value={\"submit\"}/>\n\n\n            </Form>\n            <Table>\n                <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Email</th>\n                        <th>Status</th>\n                        <th>Order Date</th>\n                        <th></th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                {orderList.map(o=>{\n                    return (\n                        <tr>\n                            <td>{o.id}</td>\n                            <td>{o.memberEmail}</td>\n                            <td>{o.status}</td>\n                            <td>{o.orderDate}</td>\n                            <td><Link\n                                to = {\"/orders/items\"}\n                                state = {{orderItems : o.orderItemInfos}}\n                            ><Button>my items</Button></Link></td>\n                            <td><Button>Cancel</Button></td>\n                        </tr>\n                    )\n                })}\n                </tbody>\n            </Table>\n        </div>\n\n    )\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}