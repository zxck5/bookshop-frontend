{"ast":null,"code":"import _defineProperty from\"/Users/jiwon/Desktop/spring-boot/BookShop/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jiwon/Desktop/spring-boot/BookShop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jiwon/Desktop/spring-boot/BookShop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Form}from\"react-bootstrap\";import{useNavigate,useLocation}from\"react-router-dom\";import axios from\"axios\";import BookForm from\"./bookForm\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function(props){var navigate=useNavigate();var location=useLocation();var _useState=useState({name:\"\",price:\"\",stockQuantity:\"\",author:\"\",isbn:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var submitForm=function submitForm(e){e.preventDefault();var formData=new FormData();Object.keys(state).map(function(key){formData.append(key,state[key]);});var item=location.state.item;console.log(item);axios.post(\"/items/\"+item.id+\"/edit\",formData).then(function(res){console.log(res);if(res.data==true){alert(\"book modified\");navigate(\"/\");}else alert(res.data);}).catch(function(err){alert(err);});};var setInput=function setInput(event){var id=event.target.id;var value=event.target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},id,value)));};return/*#__PURE__*/_jsx(BookForm,{submitForm:submitForm,setInput:setInput});}","map":{"version":3,"names":["useState","useEffect","Form","useNavigate","useLocation","axios","BookForm","props","navigate","location","name","price","stockQuantity","author","isbn","state","setState","submitForm","e","preventDefault","formData","FormData","Object","keys","map","key","append","item","console","log","post","id","then","res","data","alert","catch","err","setInput","event","target","value"],"sources":["/Users/jiwon/Desktop/spring-boot/BookShop/frontend/src/product/modifyBookForm.js"],"sourcesContent":["import {useState,useEffect} from 'react';\nimport {Form} from \"react-bootstrap\";\nimport {useNavigate,useLocation} from \"react-router-dom\";\nimport axios from \"axios\";\nimport BookForm from \"./bookForm\";\n\n\n\nexport default function (props) {\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const [state, setState] = useState({\n        name : \"\",\n        price : \"\",\n        stockQuantity : \"\",\n        author: \"\",\n        isbn : \"\"\n    });\n\n\n    const submitForm = (e) => {\n        e.preventDefault();\n        const formData = new FormData();\n        Object.keys(state).map(key => {\n            formData.append(key, state[key]);\n        })\n\n        let {item} = location.state;\n        console.log(item)\n\n        axios.post(\"/items/\" + item.id + \"/edit\",formData)\n            .then(res => {\n                console.log(res);\n                if (res.data == true) {\n                    alert(\"book modified\");\n                    navigate(\"/\");\n                } else alert(res.data);\n            }).catch(err => {\n            alert(err);\n        })\n\n    }\n\n    const setInput = (event) => {\n        let id = event.target.id;\n        let value = event.target.value;\n        setState({...state, [id] : value })\n    }\n\n\n    return(\n        <BookForm submitForm={submitForm} setInput={setInput}/>\n    )\n}\n\n"],"mappings":"yZAAA,OAAQA,QAAR,CAAiBC,SAAjB,KAAiC,OAAjC,CACA,OAAQC,IAAR,KAAmB,iBAAnB,CACA,OAAQC,WAAR,CAAoBC,WAApB,KAAsC,kBAAtC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,SAAP,KAAqB,YAArB,C,2CAIA,cAAe,UAAUC,KAAV,CAAiB,CAC5B,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,SAAQ,CAAGL,WAAW,EAA5B,CAEA,cAA0BJ,QAAQ,CAAC,CAC/BU,IAAI,CAAG,EADwB,CAE/BC,KAAK,CAAG,EAFuB,CAG/BC,aAAa,CAAG,EAHe,CAI/BC,MAAM,CAAE,EAJuB,CAK/BC,IAAI,CAAG,EALwB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eASA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACA,GAAMC,SAAQ,CAAG,GAAIC,SAAJ,EAAjB,CACAC,MAAM,CAACC,IAAP,CAAYR,KAAZ,EAAmBS,GAAnB,CAAuB,SAAAC,GAAG,CAAI,CAC1BL,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,CAAqBV,KAAK,CAACU,GAAD,CAA1B,EACH,CAFD,EAIA,GAAKE,KAAL,CAAalB,QAAQ,CAACM,KAAtB,CAAKY,IAAL,CACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAEAtB,KAAK,CAACyB,IAAN,CAAW,UAAYH,IAAI,CAACI,EAAjB,CAAsB,OAAjC,CAAyCX,QAAzC,EACKY,IADL,CACU,SAAAC,GAAG,CAAI,CACTL,OAAO,CAACC,GAAR,CAAYI,GAAZ,EACA,GAAIA,GAAG,CAACC,IAAJ,EAAY,IAAhB,CAAsB,CAClBC,KAAK,CAAC,eAAD,CAAL,CACA3B,QAAQ,CAAC,GAAD,CAAR,CACH,CAHD,IAGO2B,MAAK,CAACF,GAAG,CAACC,IAAL,CAAL,CACV,CAPL,EAOOE,KAPP,CAOa,SAAAC,GAAG,CAAI,CAChBF,KAAK,CAACE,GAAD,CAAL,CACH,CATD,EAWH,CArBD,CAuBA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CACxB,GAAIR,GAAE,CAAGQ,KAAK,CAACC,MAAN,CAAaT,EAAtB,CACA,GAAIU,MAAK,CAAGF,KAAK,CAACC,MAAN,CAAaC,KAAzB,CACAzB,QAAQ,gCAAKD,KAAL,wBAAagB,EAAb,CAAmBU,KAAnB,GAAR,CACH,CAJD,CAOA,mBACI,KAAC,QAAD,EAAU,UAAU,CAAExB,UAAtB,CAAkC,QAAQ,CAAEqB,QAA5C,EADJ,CAGH"},"metadata":{},"sourceType":"module"}